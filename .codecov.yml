codecov:
  require_ci_to_pass: true

coverage:
  status:
    project:
      default:
        target: 50%
        threshold: 1%
        flags:
          - unittests

flags:
  unittests:
    paths:
      - pkg/
  integration:
    carryforward: true
    paths:
      - test/integration/

ignore:
  # Entrypoint â€” not testable
  - "main.go"
  - "internal/bootstrap/*"

  # Daemon binary packages (low value for unit tests)
  - "metrics-daemonset/*"
  - "poweroff-daemonset/*"
  - "wol-agent/*"

comment:
  layout: "reach, diff, flags, files"
  behavior: default
  require_changes: false
